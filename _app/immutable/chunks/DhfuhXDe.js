import{b as D,h as _,d as U,E as h,H,e as O,r as k,s as q,f as T,g as I,i as m,p as E,U as y,j as F,n as N,m as L,k as Y,t as d,o as j,q as w}from"./pVTWfFso.js";import{s as C,g as M}from"./D0jxctTm.js";function $(e,a,[n,s]=[0,0]){_&&n===0&&U();var t=e,u=null,f=null,i=y,A=n>0?h:0,c=!1;const R=(o,r=!0)=>{c=!0,g(r,o)},g=(o,r)=>{if(i===(i=o))return;let v=!1;if(_&&s!==-1){if(n===0){const b=t.data;b===H?s=0:b===O?s=1/0:(s=parseInt(b.substring(1)),s!==s&&(s=i?1/0:-1))}const S=s>n;!!i===S&&(t=k(),q(t),T(!1),v=!0,s=-1)}i?(u?I(u):r&&(u=m(()=>r(t))),f&&E(f,()=>{f=null})):(f?I(f):r&&(f=m(()=>r(t,[n+1,s]))),u&&E(u,()=>{u=null})),v&&T(!0)};D(()=>{c=!1,a(R),c||g(null,null)},A),_&&(t=F)}let l=!1,p=Symbol();function z(e,a,n){const s=n[a]??(n[a]={store:null,source:L(void 0),unsubscribe:N});if(s.store!==e&&!(p in n))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=N;else{var t=!0;s.unsubscribe=C(e,u=>{t?s.source.v=u:w(s.source,u)}),t=!1}return e&&p in n?M(e):Y(s.source)}function B(e,a){return e.set(a),a}function G(){const e={};function a(){d(()=>{for(var n in e)e[n].unsubscribe();j(e,p,{enumerable:!1,value:!0})})}return[e,a]}function J(e,a,n){return e.set(n),a}function K(e){var a=l;try{return l=!1,[e(),l]}finally{l=a}}export{G as a,B as b,K as c,J as d,$ as i,z as s};
